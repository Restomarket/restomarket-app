# Verify required GitHub Actions secrets exist (names only; values never printed).
# Run from Actions tab → Verify Secrets → Run workflow.
# See: infrastructure/docs/MANUAL_TASKS.md (Task 25)
name: Verify Secrets
on:
  workflow_dispatch:

jobs:
  verify:
    name: Check required secrets exist
    runs-on: ubuntu-latest
    steps:
      - name: Verify required secrets exist
        run: |
          echo "Checking repository secrets (names only; values are never printed)..."
          [ -n "${{ secrets.STAGING_HOST }}" ] && echo "✅ STAGING_HOST" || echo "❌ STAGING_HOST missing"
          [ -n "${{ secrets.STAGING_USERNAME }}" ] && echo "✅ STAGING_USERNAME" || echo "❌ STAGING_USERNAME missing"
          [ -n "${{ secrets.STAGING_SSH_KEY }}" ] && echo "✅ STAGING_SSH_KEY" || echo "❌ STAGING_SSH_KEY missing"
          [ -n "${{ secrets.SLACK_WEBHOOK }}" ] && echo "✅ SLACK_WEBHOOK" || echo "❌ SLACK_WEBHOOK missing"
          [ -n "${{ secrets.GITHUB_TOKEN }}" ] && echo "✅ GITHUB_TOKEN (auto)" || echo "⚠️ GITHUB_TOKEN (usually auto-provided)"
          echo ""
          echo "Optional (workflow continues if missing):"
          [ -n "${{ secrets.CODECOV_TOKEN }}" ] && echo "✅ CODECOV_TOKEN" || echo "○ CODECOV_TOKEN (optional)"
          [ -n "${{ secrets.GITLEAKS_LICENSE }}" ] && echo "✅ GITLEAKS_LICENSE" || echo "○ GITLEAKS_LICENSE (optional)"
          echo "Done."
